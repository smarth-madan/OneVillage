<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<style type="text/css">
</style>
<script type="text/javascript"
    src="http://maps.googleapis.com/maps/api/js?sensor=false">
</script>
<script type="text/javascript">
  function initialize() {
    var latlng = new google.maps.LatLng(<%= params[:lat] %>, <%= params[:lon] %>);
    var myOptions = {
      zoom: 8,
      center: latlng,
      mapTypeId: google.maps.MapTypeId.ROADMAP
    };
    var map = new google.maps.Map(document.getElementById("main"),
        myOptions);
	
	var marker = new google.maps.Marker({
      position: latlng,
      map: map,
      title:"photo"
  });
  google.maps.event.addListener(marker, 'click', toggleBounce);
 }
 function toggleBounce() {

  if (marker.getAnimation() != null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}

</script>
</head>
<body onload="initialize()">
  <div id="main" style="height:500px; width:1500px"></div>
</body>
</html>